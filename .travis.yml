language: java
jdk:
- openjdk8
cache:
  directories:
  - "$HOME/.m2"
sudo: required
services:
- docker
notifications:
  email:
  - mslim8803@naver.com
  on_success: always
  on_failure: always
branches:
  only:
  - master
env:
  global:
  - secure: cJnnWzoyj/LHIsXFdy6DRLKxoQ0mjS2Awn/gEacRXF/+WtyPbvjBn5X7hMLXwCp3iu3ki/1SCoAJq3vI2ZaU8K/fNJKHBngem5tKKNLY9scVMbBwbXKymnfaAIfqbUqIjsafY4bzhhtOWx0dVpEaLuNdWhKlj3Xecxg2fhGopSwMg44MEYgWtOBFqAyELboaglHzK2tm0zhF94mGoeCRc+IGqbZ0nldLDr6CH6T6cWVjdqmbvXP9xFTRf4leky73MSNk/vf/7IcO1gbz1XksBaIVcma+IBXCOXUez8llyvz+rAGdtWWGNLNXJC9zvInTyIzu6+e9hC36K8sMLtPdhcWdJirc4hagGvsK8r4QXi1Rw12S966/PaZd8ZiisQMXYzp0CQyct8DEnAYTmFIcplDFu3DRsCMv92C3VEV3VNs9CQ2vKqbOkEeIJWT+A6+ymvFR++U/EJjGU6Npnf3bYfHEr9TPMr4VG5qLQ/BFPIMfnh1hMUzD64udllxqjMtMfZ5pnVp0hZW/IRo7RJ98iFprr9hkDvGO2WKAjbkQGeYR2aZl4QtaK+d4vYeeDBB4LfkIctNu0wdC91gcXqt1ABjU4JDmmr8uBKADgrmrRSeuCDEEC0Mo9AwLJ4L3ceNtFZYmVVW2cUsP5z4sXZaNSn7OhI3UtAWflTO9kXzieo0=
  - secure: fGtcp7WCKSShwBk8ZfDLyT1pWUgOL3P6NfIgZPor3gNRYqrGsRZ4KbkDY5ahnryd6s7hboK5MyxH/5wKpotaZitO7ybrKLuXlt7UK/e+aYaqYlKT0pzZlPxxdGtrj32NuhQmTyGn7zuzz+kl3QlZV+H/A6un51ErN8H/SgPWS/Fx4kAcuR8nVfMwGLgC6ZomlbvU6RKaNHUtJJl2xZfsMpZjyCcKguWxR4S26y/2Yqwoi1jmEtWkRGA2Ka3Trqfly6ncdlUvQqVS09Q5tLopMO58cLf4F06HPZ337rmk7bKO+OqMPzaDerjqyakb4yuV7fkdSYu5erjtJq0TCBu+FdosoMwBTuuPxBXid1F0D6YFk3YOADiFrUxVZQ9BZxmzuDE8HrFArCwY2QOzvuST3pieFb3gsYb+IC/IVH2haYIJJzga5pE1JnQ21hEBfgAGWhv7nysSn89906PNmsI/8CqKcVDDhCvjW5xhpgDS6ZeQBXY39u0h3OcnVRAyYdN/Y1OUss0cZ24CH0LHcAxN5t+IcbtJiTYso9VX+87Vw06PVcIY/FnHEKNwqRCEDa7ikpVwLnlzFFKCnoQIFPSH4x1484hqrdjzL8wcT1Y47Blr5VXKWNqYwKu0RvfcJB9bqfNl0AXFpKwFVjiv/i1wnMp0JI21yRxA3bc+a6d0p2Q=
  - secure: SsZBz0Vb9GlOQ2uFzQbS23X3QP4erDNP+OjPC7xmJ50HCJODa/kqkex7OyZvHmgc2M6l+MQMFkWzyi5ggpHAKpxBeUFckPmrYwFQ7HjVoA1z/ADE+3IZ/dLk4UulEkzno6tUbtuoCSr21evoBJkiGbV01c108yAUDR5fqN4rj42QEupwd2ClVQDLrlyQZYkNZeCfewlH0bAEBGhqplA6sQq9V5UEY241w0OibFH6PgeIevaJSJIjGXGX/I+EAk8SoE6pjeNzRE1Gfe18lh9kiNNT4gI8/I6k90ESPuYcsU/58x3ZPXj0gY6zSMifmejkcxzG44us5yrytc0+KLT4zBCWj8I+DP2gVnPPnJDgO1IwQCj6TIfYtVhiYO/GGq/SqRR7Qe1bx42vWs5+bMiZUepzNCLSfBl5MFtdVrMpMwdyq0Lnc5g4VAgAw6xD5XZ3prFYBLZPzMKfefJK0QT87ZT6FrSA5afUdZna4+U1VgYOQcwSlT7Wjb/ukiNwpUyc0O5VnAQbJ7C1Mf96vrELeqFWmFqJRMNXLcH/HrnXP8VoRYqd8wDUeakur/s8HfKceVrrmpfcZZCtUB02r3S5dhGcTK6wNY5YvhWY+52Sh6myYW9Ho9chJlhW8BmdtEUem2RjRQ/sALucQ5NhSNXMoyn6MpoE8NFCj0qE/JN+AaU=
  - secure: EMUCXOUfICFBSz5oXVqDxaY8LNZFgdcac655TACE7vj7ed3YSa0X3HJP1FBbjICKPD0NnN8ReKDPvwMd6xqRwOKxI4k38j2/edjyedeJ95DYBU3h3eMXNm2jIx+0Q4dgzyNLcFxgDsYkwSUImmtYuhnZvA/m9ZP0TCY9f80lRdXosC6sHQAeJJDNwScu5ZVntDm69QWVk7M1GsaiVX+RHlDfHTgn7+f2fYaL6TtaTFa7nA26jtQDtuFMv371Onv1ybsS6Fiz6NVmRMpp6hH/rztjL8MZtAeLLfZ1MKYZagQer9vmtqFad7918BZAd0IML5inaKRmlC1+21NLn/Q2IGeRrdtCc3DpERkEph4XC/FLhMS469/VlP4wS1WETpQ95FrYGkAGVnw8L/2KyRM/k6BLcaR+q2rOHCsqC/OxzyFqqQ8+4xfP7bOY4rHH/CVwHkDjdDxBHBZdW467vSd2v/YGxnMYPsdGt0tqM4hPsQX+gRy9Fx/2bruEKeM6TzV0SWX5bVprlGnHK3cSgG1vn44josayNhyozDot4OaATjowCmId39rv+BsCblDMIXZlGz467RWBzJ9JxJzKmK1xwIQf0EEbl+DPeRtaJ8lvsAzWt5DPPvN2sG2IdisKJpQU2+BE1fehJ6UGQczgXujEjHEG+nhd/ptkXlZ70PZlxGI=
  - secure: opuzQ0LnGfBaXXLdg29aUaBR7JSJkgG9eCrANjf7euhgSrr39mi82A3EKxTXZvw+kAqWGrSa9WTb6gLbinZ1wy8KPAhDnHhf/RGumZ5PdimcECa4KthpMaFAW1L+p12xr7m4r+GrsewQ7B0XfkZb54U7hA9HuXT2dHEm4i6P6I2E5LUqU8qwyq/hAoYdYyysyGyf8E/YKG7AH3C/DRG10/ru5AYq4IzYHz+vumGeB10oO0KUuzLLY3PGdeUiAAtWDvgZUIGVuvlX4bi8mxyZ/H14BcE6qpBGJa7is5SeQPGnzBUoUWX8HqoQZrY30qaVsZak403yfxYBnT8AexbX0/tNVdrS5ebKyGBdYtYZl29g43uF6sBO9vIVkJv1Beqxk9J+M7ncEP/RfP73ijm0GeQQJPOfULVUrvJrZ0ct+INlJsMZXCLVK4zSgP56pb0ef7sfMktfoTBNhd4ajDPLU2L3T8EG+ws4OmX0EcZMWCX0/ixtBE8ch92miudVEphdyzkRu8YfjnS/Woic955RvY+zqL0bXbFpj7sBTA6Obr0MWzvFwHHC1CrKGtSk6YrRWe885usdy5k8cPyJjatDornsX9EV2/jsCpKOIXYHDiUUGZC1zPe44f0gaaqfbigGhYRBafdGRV9GN0QcE/LVICUToiQJc9Jm5H0rH+bOWLE=
  - secure: d5/pr6x1ORAzCUSLy5ZbxfV8VBCFoW1isy1AMdO3K/FGAw4FzUlnsjqXn2B4y4WYXP7yq+hSm0a5jd0GWTAwzcUR/gi1tu8X9/pwoyQA925ZmupML8EB7Hx2IBhcMBDmwtDU5JszCsTU7U3gZdnjNUgFfRpEkXeHhBvyXwjbKusZHKLXlRnoON5j3jd2VWP6VBxt565ec4Q6KgpBLAOPgm2dBaKkKSTbNnOOlT09QFfGLzRKEUuJe23oFsl/x0RCcuN7E80itC1fJldj56ZIcIhXnF8Age6PKsgrB+9me7MPaFybVp4jRNDGSQj6DD0lxV65BTbOdc+BdQUVfGPEfBf1nWvVbbKj6gHWfOCRzLxpJtL/LMWspRvSpjISbkzJc3LiApAojaRuzGcIVWWRKDxdeAQBaCEkBOGpJuMrnL1XgRjc5eJfwef25eAZVTqJOUfVPtZOnUdpST5IaLHGhdjvnsWJT+44cQv3eVe2zWrrGNOWGZXzYUHxSyw34h0rlQyM1JjBnrwqoVI4adgSwYB2YbUCMKfiAg/YMXf3qHndRpkH+rq4ONZMyLaYDz/U+Wq8n/81k3Mwqi63fWg6aUZa8iT/GRcX2Zs691SjRe9VMGnXoZBSkMwQVMDRo0KD78WpENEFb3AiNI4Vkc5clqfS3DGwBrFVZWDcHyOj6vI=
before_install:
- gem install travis -v 1.8.9 --no-document
- sudo curl -k -o /usr/local/bin/ecs-cli https://s3.amazonaws.com/amazon-ecs-cli/ecs-cli-linux-amd64-latest
- sudo chmod +x /usr/local/bin/ecs-cli
- export BUILD_NAME=ws-project-$TRAVIS_BRANCH-$(date -u "+%Y%m%d%H%M%S")-$TRAVIS_BUILD_NUMBER
- export CONTAINER_IP=52.78.84.133
- export PLATFORM_TEST_NAME="ws-project-platform-tests"
script:
- sh travis_scripts/tag_build.sh
- sh travis_scripts/build_services.sh
- sh travis_scripts/deploy_to_docker_hub.sh
- sh travis_scripts/deploy_to_amazon_ecs.sh
#- sh travis_scripts/trigger_platform_tests.sh
